{"version":3,"file":"js/831-legacy.6f281f61.js","mappings":"2LAEMA,GAA0BC,EAAAA,EAAAA,IAAiB,yBAE3C,SAAUC,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,IAAMC,GAAsBC,EAAAA,EAAAA,IAAkB,YAE9C,OAAQC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAaH,EAAqB,CACtDI,SAAUV,EAAKU,SACfC,WAAY,UAAF,OAAYX,EAAKY,SAAWZ,EAAKY,SAAW,IACtDC,WAAYb,EAAKc,UAChB,CACDC,SAASC,EAAAA,EAAAA,KAAS,iBAAM,CACtBnB,MAEFoB,EAAG,GACF,EAAG,CAAC,WAAY,aAAc,e,yECRnC,GAAeC,EAAAA,EAAAA,IAAgB,CAC7BC,WAAY,CAAEC,SAAAA,EAAAA,GAEdC,QAH6B,WAI3BC,EAAAA,EAAAA,SAAeC,EAAAA,KAGjBC,KAP6B,WAQdF,EAAAA,EAAAA,MAAAA,SAAAA,KAAb,IACMZ,EAAsB,CAC1B,CACEe,GAAI,WACJC,SAAU,yBACVC,KAAMC,EAAAA,EAAAA,KACNC,WAAW,EACXC,UAAW,WAEb,CACEL,GAAI,eACJC,SAAU,0BACVC,KAAMC,EAAAA,EAAAA,KACNC,WAAW,IAGf,MAAO,CAAEnB,SAAAA,IAGXqB,QAAS,CACDjB,SADC,SACQkB,GAAQ,+JAErB,UAAIV,EAAAA,EAAAA,MAAAA,SAAAA,YAAJ,OAAI,EAA2BW,UAC7B,EAAKC,QAAQC,KAAK,KAGdC,EAAa,IAAIC,EAAAA,EACjBC,EAPe,UAOJhB,EAAAA,EAAAA,MAAAA,SAAAA,YAPI,aAOJ,EAA2BiB,KACxCD,EARmB,CAAF,+BASbF,EAAWI,SAASR,EAAIS,SAASH,EAAUN,EAAIU,cATlC,OAUnB,EAAKR,QAAQC,KAAK,KAVC,+CAczBQ,SAAU,CACR/B,SAAU,kBAAKU,EAAAA,EAAAA,QAAAA,QAAwBA,EAAAA,EAAAA,QAAAA,QAAAA,MAA8B,S,UC9CzE,MAAMsB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS7C,KAEpE","sources":["webpack://protezione-civile/./src/views/LeaveCar.vue?d9cb","webpack://protezione-civile/./src/views/LeaveCar.vue?c98e","webpack://protezione-civile/./src/views/LeaveCar.vue"],"sourcesContent":["import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\" Prendi una macchina \")\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Activity = _resolveComponent(\"Activity\")!\n\n  return (_openBlock(), _createBlock(_component_Activity, {\n    sections: _ctx.sections,\n    submitText: `Lascia ${_ctx.carModel ? _ctx.carModel : ''}`,\n    onOnSubmit: _ctx.onSubmit\n  }, {\n    default: _withCtx(() => [\n      _hoisted_1\n    ]),\n    _: 1\n  }, 8, [\"sections\", \"submitText\", \"onOnSubmit\"]))\n}","\nimport Activity from \"@/components/Activity.vue\";\nimport { Section, SectionType } from \"@/model/Section\";\nimport { store } from \"@/store\";\nimport { LISTEN_CARS } from \"@/store/modules/appState\";\nimport { defineComponent } from \"vue\";\nimport { CarService } from \"@/services/CarService\";\n\nexport default defineComponent({\n  components: { Activity },\n\n  mounted() {\n    store.dispatch(LISTEN_CARS);\n  },\n\n  data() {\n    const cars = store.state.appState.cars;\n    const sections: Section[] = [\n      {\n        id: \"odometer\",\n        question: \"Contachilometri finale\",\n        type: SectionType.OPEN,\n        mandatory: true,\n        inputMode: 'numeric'\n      },\n      {\n        id: \"declarations\",\n        question: \"Qualcosa da dichiarare?\",\n        type: SectionType.OPEN,\n        mandatory: false,\n      },\n    ];\n    return { sections };\n  },\n\n  methods: {\n    async onSubmit(res: any) {\n      //TODO - Soluzione provvisoria\n      if (store.state.appState.user?.usingCar) {\n        this.$router.push(\"/\");\n      }\n\n      const carService = new CarService();\n      const carPlate = store.state.appState.user?.car;\n      if (carPlate) {\n        await carService.leaveCar(res.odometer,carPlate, res.declarations);\n        this.$router.push(\"/\");\n      }\n    },\n  },\n  computed: {\n    carModel: ()=> store.getters.usedCar ? store.getters.usedCar.model : null,\n  }\n});\n","import { render } from \"./LeaveCar.vue?vue&type=template&id=925d3494&ts=true\"\nimport script from \"./LeaveCar.vue?vue&type=script&lang=ts\"\nexport * from \"./LeaveCar.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/TomaccioD/Documents/other/protezione-civile/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_hoisted_1","_createTextVNode","render","_ctx","_cache","$props","$setup","$data","$options","_component_Activity","_resolveComponent","_openBlock","_createBlock","sections","submitText","carModel","onOnSubmit","onSubmit","default","_withCtx","_","defineComponent","components","Activity","mounted","store","LISTEN_CARS","data","id","question","type","SectionType","mandatory","inputMode","methods","res","usingCar","$router","push","carService","CarService","carPlate","car","leaveCar","odometer","declarations","computed","__exports__"],"sourceRoot":""}