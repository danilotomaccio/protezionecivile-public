"use strict";(self["webpackChunkprotezione_civile"]=self["webpackChunkprotezione_civile"]||[]).push([[189],{4189:function(t,o,e){e.r(o),e.d(o,{default:function(){return h}});var n=e(6252),s=e(3577);const i={id:"admin_home"},c={class:"activities"},a={class:"section"},d={class:"description"},r={class:"section"},l={class:"description"};function u(t,o,e,u,p,v){return(0,n.wg)(),(0,n.iD)("div",i,[(0,n._)("h2",null,(0,s.zw)(t.$t.adminTitle),1),(0,n._)("div",c,[(0,n._)("div",a,[(0,n._)("div",d,(0,s.zw)(t.$t.csvDownloadDesc),1),(0,n._)("div",{class:"button",onClick:o[0]||(o[0]=(...o)=>t.downloadCSV&&t.downloadCSV(...o))},(0,s.zw)(t.$t.csvDownloadBtn),1)]),(0,n._)("div",r,[(0,n._)("div",l,(0,s.zw)(t.$t.notificationDesc),1),(0,n._)("div",{class:"button",onClick:o[1]||(o[1]=()=>this.$router.push("/admin/notifications"))},(0,s.zw)(t.$t.goToAdminPush),1)])])])}var p=e(8907);class v{reportsToCSV(t){const o=["carId","startTime","stopTime","startOdometer","stopOdometer","userId","userName","causal","declarations"];let e="id"+o.reduce(((t,o)=>t+`,${o}`),"")+"\n";for(const n in t){e+=`${n}`;const s=t[n];for(const t of o){const o=s[t];e+=`,${o||""}`}e+="\n"}return e}}var w=(0,n.aZ)({methods:{async downloadCSV(){const t=new p.B,o=await t.readData("carReports");if(o){const t=(new v).reportsToCSV(o);this.downloadFile("report.csv",t)}},downloadFile(t,o){const e=document.createElement("a");e.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(o)),e.setAttribute("download",t),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}}}),m=e(3744);const f=(0,m.Z)(w,[["render",u],["__scopeId","data-v-01d617ce"]]);var h=f}}]);
//# sourceMappingURL=189.145d1ff7.js.map