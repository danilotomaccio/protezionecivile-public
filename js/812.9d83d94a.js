"use strict";(self["webpackChunkprotezione_civile"]=self["webpackChunkprotezione_civile"]||[]).push([[812],{5812:function(t,e,o){o.r(e),o.d(e,{default:function(){return w}});var n=o(6252),d=o(3577);const s={id:"admin"},a={class:"section"},c={class:"description"};function r(t,e,o,r,i,l){return(0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("h2",null,(0,d.zw)(t.$t.adminTitle),1),(0,n._)("div",a,[(0,n._)("div",c,(0,d.zw)(t.$t.csvDownloadDesc),1),(0,n._)("div",{class:"button",onClick:e[0]||(e[0]=(...e)=>t.downloadCSV&&t.downloadCSV(...e))},(0,d.zw)(t.$t.csvDownloadBtn),1)])])}var i=o(8907),l=(0,n.aZ)({methods:{async downloadCSV(){const t=new i.B,e=await t.readData("carReports");if(e){const t=this.reportsToCSV(e);this.downloadFile("report.csv",t)}},reportsToCSV(t){const e=["carId","startTime","stopTime","startOdometer","stopOdometer","userId","userName","causal","declarations"];let o="id"+e.reduce(((t,e)=>t+`,${e}`),"")+"\n";for(const n in t){o+=`${n}`;const d=t[n];for(const t of e){const e=d[t];o+=`,${e||""}`}o+="\n"}return o},downloadFile(t,e){const o=document.createElement("a");o.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),o.setAttribute("download",t),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)}}}),u=o(3744);const p=(0,u.Z)(l,[["render",r],["__scopeId","data-v-4e30dfd8"]]);var w=p}}]);
//# sourceMappingURL=812.9d83d94a.js.map