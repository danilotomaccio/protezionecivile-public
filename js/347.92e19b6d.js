"use strict";(self["webpackChunkprotezione_civile"]=self["webpackChunkprotezione_civile"]||[]).push([[347],{3347:function(e,t,o){o.r(t),o.d(t,{default:function(){return v}});var n=o(6252);const a=e=>((0,n.dD)("data-v-15eb9c33"),e=e(),(0,n.Cn)(),e),r={id:"admin"},c=a((()=>(0,n._)("h2",null,"Volere é potere",-1))),d={class:"section"},s=a((()=>(0,n._)("div",{class:"description"}," Non puoi ancora fare granché ma per il momento puoi scaricare il csv dei report ",-1)));function i(e,t,o,a,i,l){return(0,n.wg)(),(0,n.iD)("div",r,[c,(0,n._)("div",d,[s,(0,n._)("div",{class:"button",onClick:t[0]||(t[0]=(...t)=>e.downloadCSV&&e.downloadCSV(...t))},"Scarica CSV")])])}var l=o(8907),u=(0,n.aZ)({methods:{async downloadCSV(){const e=new l.B,t=await e.readData("carReports");if(t){const e=this.reportsToCSV(t);this.downloadFile("report.csv",e)}},reportsToCSV(e){const t=["carId","startTime","stopTime","startOdometer","stopOdometer","userId","userName","causal","declarations"];let o="id"+t.reduce(((e,t)=>e+`,${t}`),"")+"\n";for(const n in e){o+=`${n}`;const a=e[n];for(const e of t){const t=a[e];o+=`,${t||""}`}o+="\n"}return o},downloadFile(e,t){const o=document.createElement("a");o.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),o.setAttribute("download",e),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)}}}),p=o(3744);const m=(0,p.Z)(u,[["render",i],["__scopeId","data-v-15eb9c33"]]);var v=m}}]);
//# sourceMappingURL=347.92e19b6d.js.map